/*! Built with http://stenciljs.com */
const{h:e}=window.HadoUi;import t from"./chunk1.js";const a={RANGE:"range",SINGLE:"single"},i={datesArray:[],openDatePicker:!1,dateSelected:void 0,id:void 0},s={datesArray:[],openDatePicker:!1,rangeStartValue:void 0,rangeEndValue:void 0,InputType:void 0},l={calendarIconClass:void 0,angleRightIconClass:void 0,angleLeftIconClass:void 0,closeIconClass:void 0,activePreviousDate:!1,mode:a.SINGLE,startWeek:0,labels:{title:"First date",title_2:"Last date",placeholder:"...",placeholder_2:"...",datepickerBtnValue:"Valid",rangeNextBtnValue:"Next",months:["January","February","March","April","May","June","July","August","September","October","November","December"],days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]}};class o{reloadState(){this.initAppState()}get props(){return this.DpElement}initAppState(e){let a,o,n,r;(a=e||{mode:"range",singleValue:"2018-03-23",calendarIcon:"far fa-calendar-alt",angleRightIcon:"fas fa-angle-right",angleLeftIcon:"fas fa-angle-left",closeIcon:"fas fa-times",activePreviousDate:!0,rangeStartValue:"2018-03-23",rangeEndValue:"2018-03-30",startWeek:1,labels:{title:"Date de début",title_2:"Date de Fin",placeholder:"séléctionnez une date",placeholder_2:"séléctionnez une date",datepickerBtnValue:"Validé",rangeNextBtnValue:"Suivant",months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Décembre"],days:["lundi","mardi","mercredi","jeudi","vendredi","samedi","dimanche"]}})&&(a.rangeStartValue&&(o=t(a.rangeStartValue)),a.rangeEndValue&&(n=t(a.rangeEndValue)),a.singleValue&&(r=t(a.singleValue)),this.datepickerModel=Object.assign({},i,{dateSelected:r}),this.rangepickerModel=Object.assign({},s,{rangeStartValue:o,rangeEndValue:n}),this.optionsModel=Object.assign({},l,{calendarIconClass:a.calendarIcon,angleRightIconClass:a.angleRightIcon,angleLeftIconClass:a.angleLeftIcon,closeIconClass:a.closeIcon,activePreviousDate:a.activePreviousDate,mode:a.mode,labels:a.labels,startWeek:a.startWeek}))}componentDidLoad(){this.datepickerIsLoaded.emit(!0)}componentWillLoad(){console.log("componentWillLoad"),console.log(this.config),this.config?this.initAppState(this.config):this.buildPropsValue()}buildPropsValue(){this.config={mode:this.mode,singleValue:this.singleValue,calendarIcon:this.calendarIcon,angleRightIcon:this.angleRightIcon,angleLeftIcon:this.angleLeftIcon,closeIcon:this.closeIcon,activePreviousDate:this.activePreviousDate,rangeStartValue:this.rangeStartValue,rangeEndValue:this.rangeEndValue,startWeek:this.startWeek,labels:{title:this.title,title_2:this.title2,placeholder:this.placeholder,placeholder_2:this.placeholder2,datepickerBtnValue:this.datepickerBtnValue,rangeNextBtnValue:this.rangeNextBtnValue,months:this.months,days:this.days}},console.log("buildPropsValue",this.config),this.initAppState(this.config)}render(){const t=this.optionsModel.mode===a.RANGE?e("rangepicker-input",{rangepickerModel:this.rangepickerModel,optionsModel:this.optionsModel}):null,i=this.optionsModel.mode===a.SINGLE?e("datepicker-input",{datepickerModel:this.datepickerModel,optionsModel:this.optionsModel}):null;return e("div",{class:"oui-datepicker"},t,i)}static get is(){return"hado-datepicker"}static get properties(){return{activePreviousDate:{type:Boolean,attr:"active-previous-date"},angleLeftIcon:{type:String,attr:"angle-left-icon"},angleRightIcon:{type:String,attr:"angle-right-icon"},calendarIcon:{type:String,attr:"calendar-icon"},closeIcon:{type:String,attr:"close-icon"},config:{type:"Any",attr:"config",watchCallbacks:["reloadState"]},datepickerBtnValue:{type:String,attr:"datepicker-btn-value"},datepickerModel:{state:!0},days:{type:"Any",attr:"days"},DpElement:{elementRef:!0},initAppState:{method:!0},mode:{type:String,attr:"mode"},months:{type:"Any",attr:"months"},optionsModel:{state:!0},placeholder:{type:String,attr:"placeholder"},placeholder2:{type:String,attr:"placeholder2"},rangeEndValue:{type:String,attr:"range-end-value"},rangeNextBtnValue:{type:String,attr:"range-next-btn-value"},rangepickerModel:{state:!0},rangeStartValue:{type:String,attr:"range-start-value"},singleValue:{type:String,attr:"single-value"},startWeek:{type:Number,attr:"start-week"},title:{type:String,attr:"title"},title2:{type:String,attr:"title2"}}}static get events(){return[{name:"datepickerIsLoaded",method:"datepickerIsLoaded",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return".datepicker-input-group{position:relative;display:flex;background:#0088ce;border-radius:6px}.datepicker-input-group .datepicker-input{padding:13px 20px;width:calc(80% - 40px);background:#efeeee;color:#0088ce;border:none;border-radius:6px 0 0 6px;font-size:14px}.datepicker-input-group i{position:absolute;top:50%;right:10%;transform:translateY(-50%) translateX(50%);color:#fff;font-size:22px}\@keyframes Scale{0%{transform:scale(.6);opacity:0}100%{transform:scale(1);opacity:1}}\@keyframes UnScale{0%{transform:scale(1);opacity:1}100%{transform:scale(0);opacity:0}}.modal.on-enter,.on-modal-enter{animation-name:Scale;animation-duration:.3s;animation-fill-mode:forwards}.modal.on-leave,.on-modal-leave{animation-name:UnScale;animation-duration:.3s;animation-fill-mode:forwards}.day-list{display:flex;flex-direction:row;flex-wrap:nowrap;list-style:none}.day-list li{width:calc(14% - 10px);text-align:center;padding:10px 5px;font-weight:700}.datepicker-overlay,.rangepicker-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:0 0;opacity:.3}.date-list{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;list-style:none;width:100%}ul{padding:0}.modal-container .overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:0 0;opacity:.3}\@media only screen and (max-width:780px){.modal-container .overlay{display:none}}.modal{position:absolute;width:100%;top:100%;left:initial;bottom:initial;right:0;border-radius:6px;overflow-x:hidden;z-index:99;box-shadow:0 19px 38px rgba(41,41,41,.3),0 15px 12px rgba(41,41,41,.2)}.modal:before{content:'';width:20px;height:20px;background:inherit;position:absolute;top:0;right:25px;transform:rotate(45deg) translateY(-50%)}.modal.has-header .modal-content{height:calc(100vh - 70px);overflow-y:scroll}\@media only screen and (max-width:780px){.modal{display:flex;position:fixed;top:0;width:100vw;height:100vh;background:#fff;flex-direction:column;z-index:99;border-radius:0}}.modal .modal-header{position:relative;border-bottom:solid 1px #efeeee;height:70px;display:none;-webkit-box-shadow:0 2px 10px 0 rgba(0,0,0,.1);box-shadow:0 2px 10px 0 rgba(0,0,0,.1)}\@media only screen and (max-width:780px){.modal .modal-header{display:block}}.modal .modal-header h2{text-align:center}.modal .modal-header i{position:absolute;top:50%;right:15px;transform:translateY(-50%);color:#0088ce;font-size:32px}.modal .modal-content .content-header{display:flex;justify-content:space-between;padding:15px 0}.modal .modal-content .content-header>*{color:#0088ce}.modal .modal-content .content-header i{font-size:26px}.modal .modal-content .content-header label{line-height:26px;text-transform:capitalize;font-size:22px}.modal .modal-footer{position:relative;height:70px;display:none;justify-content:center;align-items:center;border-top:solid 1px #efeeee;-webkit-box-shadow:0 -2px 10px 0 rgba(0,0,0,.1);box-shadow:0 -2px 10px 0 rgba(0,0,0,.1)}\@media only screen and (max-width:780px){.modal .modal-footer{display:flex}}.modal .modal-footer button{text-align:center;background:#0088ce;min-width:33%}\@keyframes Scale{0%{transform:scale(.6);opacity:0}100%{transform:scale(1);opacity:1}}\@keyframes UnScale{0%{transform:scale(1);opacity:1}100%{transform:scale(0);opacity:0}}.modal.on-enter,.on-modal-enter{animation-name:Scale;animation-duration:.3s;animation-fill-mode:forwards}.modal.on-leave,.on-modal-leave{animation-name:UnScale;animation-duration:.3s;animation-fill-mode:forwards}button{background:#5851ff;color:#fff;margin:8px;border:none;font-size:13px;font-weight:700;text-transform:uppercase;padding:16px 20px;border-radius:2px;box-shadow:0 8px 16px rgba(0,0,0,.1),0 3px 6px rgba(0,0,0,.08);outline:0;letter-spacing:.04em;transition:all .15s ease;cursor:pointer}button:hover{box-shadow:0 3px 6px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.1);transform:translateY(1px)}.oui-datepicker>*{font-family:Arial,sans-serif}"}}class n{constructor(){this.current=t(),this.selected=void 0,this.start=t().startOf("day"),this.end=t().endOf("day"),this.showModal=!1,this.defaultState={value:void 0,format:"HH:mm",labels:{title:"title 1",btnValue:"submit",closeIcon:"fas fa-times",timeIcon:"far fa-clock",placeholder:"..."}},this.config=this.defaultState,this.hourList=[{value:this.start,current:!1,selected:!1}]}initialWithProps(){this.config&&this.initialize(this.config)}initialize(e){this.config=Object.assign({},this.defaultState,this.config),console.log("LALAL",this.config),e&&e.value&&(Number.isInteger(this.minutesOfDay(this.config.value)/30)?console.log("YYESS",this.isValid(this.minutesOfDay(this.config.value))):console.log("NNNO",this.isValid(this.minutesOfDay(this.config.value)))),this.selected=this.config.value;const a=this.start.diff(this.end,"hour");let i=this.start;const s=this.isValid(this.minutesOfDay(this.current));for(let e=0;e<=2*Math.abs(a);e++){let e=!1;this.minutesOfDay(i)===s&&(e=!0),i=t(i.add(30,"minute")),this.hourList.push({value:i,current:e,selected:!1})}}componentWillLoad(){this.isLoaded$.emit()}minutesOfDay(e){return e.minutes()+60*e.hours()}selectHour(e){this.selected=e,this.hourList=this.hourList.map(t=>(t.selected=t.value===e,t)),this.dateSelected$.emit(this.selected),this.closeModal()}isValid(e){let t=e;for(let e=30;0<=e;e--)if(t+=1,Number.isInteger(t/30))return console.log("numb",t),t}closeModal(){document.getElementById("modalComponent").className="modal has-header on-leave",setTimeout(()=>{this.showModal&&(this.showModal=!1)},300)}openModal(){!this.showModal&&(this.showModal=!0)}render(){const{format:t,labels:{closeIcon:a,timeIcon:i,title:s,placeholder:l}}=this.config,o=this.hourList.map(a=>e("li",{onClick:()=>this.selectHour(a.value),class:`hour-item ${a.current?"current":""} ${a.selected?"selected":""}`},a.value.format(t)));return e("div",{class:"timepicker-container"},e("hado-input-form",{onClick:()=>this.openModal(),value:this.selected?this.selected.format(t):void 0,placeholder:l,iconClass:i}),this.showModal?e("div",{class:"modal-container"},e("div",{id:"modalComponent",class:"modal has-header on-enter"},e("header",{class:"modal-header"},e("h2",null,s),e("i",{class:a,onClick:()=>this.closeModal()})),e("article",{class:"modal-content"},e("ul",{class:"hour-list"},o))),e("div",{class:"overlay",onClick:()=>this.closeModal()})):null)}static get is(){return"hado-timepicker"}static get properties(){return{config:{type:"Any",attr:"config",watchCallbacks:["initialWithProps"]},hourList:{state:!0},initialize:{method:!0},showModal:{state:!0}}}static get events(){return[{name:"dateSelected$",method:"dateSelected$",bubbles:!0,cancelable:!0,composed:!0},{name:"isLoaded$",method:"isLoaded$",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return"\@keyframes Scale{0%{transform:scale(.6);opacity:0}100%{transform:scale(1);opacity:1}}\@keyframes UnScale{0%{transform:scale(1);opacity:1}100%{transform:scale(0);opacity:0}}.modal.on-enter,.on-modal-enter{animation-name:Scale;animation-duration:.3s;animation-fill-mode:forwards}.modal.on-leave,.on-modal-leave{animation-name:UnScale;animation-duration:.3s;animation-fill-mode:forwards}.day-list{display:flex;flex-direction:row;flex-wrap:nowrap;list-style:none}.day-list li{width:calc(14% - 10px);text-align:center;padding:10px 5px;font-weight:700}.datepicker-overlay,.rangepicker-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:0 0;opacity:.3}.date-list{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;list-style:none;width:100%}ul{padding:0}.modal-container .overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:0 0;opacity:.3}\@media only screen and (max-width:780px){.modal-container .overlay{display:none}}.modal,.timepicker-container .modal{position:absolute;width:100%;top:100%;left:initial;bottom:initial;right:0;border-radius:6px;overflow-x:hidden;z-index:99;box-shadow:0 19px 38px rgba(41,41,41,.3),0 15px 12px rgba(41,41,41,.2)}.modal:before,.timepicker-container .modal:before{content:'';width:20px;height:20px;background:inherit;position:absolute;top:0;right:25px;transform:rotate(45deg) translateY(-50%)}.modal.has-header .modal-content{height:calc(100vh - 70px);overflow-y:scroll}\@media only screen and (max-width:780px){.modal,.timepicker-container .modal{display:flex;position:fixed;top:0;width:100vw;height:100vh;background:#fff;flex-direction:column;z-index:99;border-radius:0}}.modal .modal-header,.timepicker-container .modal .modal-header{position:relative;border-bottom:solid 1px #efeeee;height:70px;display:none;-webkit-box-shadow:0 2px 10px 0 rgba(0,0,0,.1);box-shadow:0 2px 10px 0 rgba(0,0,0,.1)}\@media only screen and (max-width:780px){.modal .modal-header,.timepicker-container .modal .modal-header{display:block}}.modal .modal-header h2,.timepicker-container .modal .modal-header h2{text-align:center}.modal .modal-header i,.timepicker-container .modal .modal-header i{position:absolute;top:50%;right:15px;transform:translateY(-50%);color:#0088ce;font-size:32px}.modal .modal-content .content-header{display:flex;justify-content:space-between;padding:15px 0}.modal .modal-content .content-header>*{color:#0088ce}.modal .modal-content .content-header i{font-size:26px}.modal .modal-content .content-header label{line-height:26px;text-transform:capitalize;font-size:22px}.modal .modal-footer{position:relative;height:70px;display:none;justify-content:center;align-items:center;border-top:solid 1px #efeeee;-webkit-box-shadow:0 -2px 10px 0 rgba(0,0,0,.1);box-shadow:0 -2px 10px 0 rgba(0,0,0,.1)}\@media only screen and (max-width:780px){.modal .modal-footer{display:flex}}.modal .modal-footer button{text-align:center;background:#0088ce;min-width:33%}.current{color:#0088ce}.timepicker-container{position:relative}.timepicker-container>*{font-family:Arial,sans-serif}\@media only screen and (min-width:780px){.timepicker-container .modal .modal-content{max-height:320px;overflow-y:scroll}}.timepicker-container .modal .overlay{position:fixed;top:0;right:0;left:0;bottom:0;background:orange;opacity:.2}.timepicker-container .modal .hour-list{display:flex;flex-direction:column;-ms-overflow-style:none;overflow:-moz-scrollbars-none;list-style-type:none;border-radius:0 3px 3px 0;margin:0;border-radius:0 0 6px 6px}.timepicker-container .modal .hour-list .hour-item{width:calc(100% - 40px);padding:10px 20px;border-bottom:solid 1px #efeeee}\@media only screen and (max-width:780px){.timepicker-container .modal .hour-list .hour-item{padding:18px 20px;text-align:center}}.timepicker-container .modal .hour-list .hour-item:hover{color:#fff;background:#89b2c7;border-color:#89b2c7}.timepicker-container .modal .hour-list .hour-item.selected{background:#0088ce;border-color:#0088ce;color:#fff}"}}export{o as HadoDatepicker,n as HadoTimepicker};